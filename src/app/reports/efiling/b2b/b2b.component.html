<div class="ui-g-12 licence-bg p-l-0 p-r-0 p-t-0 p-b-0">

    <div class="journal-heading m-b-10">
        <div class="ui-helper-clearfix">
            <div class="ui-g-12 ui-lg-4 ui-md-4 p-t-0 p-b-0">
                <img class="infobook-logo ui-toolbar-group-left">
                <h1 class="pull-left">B2B</h1>
            </div>
            <div class="ui-toolbar-group-left ui-g-12 ui-lg-7 ui-md-7 p-t-0 p-b-0 text-right">
                <span class="">{{selectedyear}}</span><br>
                <span style="font-size:12px" class="pcs-label inv-view-label">{{startDate}}  -  {{endDate}}</span>

            </div>
            <div class="ui-toolbar-group-right ui-corner-all brand-overlay ui-g-12 ui-lg-1 ui-md-1 p-t-0 p-b-0 text-right inlineflex" style="padding-left: 4%;">

                <button (click)="ExporttoCSV()" icon="fa-file-excel" pbutton="" type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only">
                    <span class="ui-button-icon-left ui-clickable fa fa-fw fa-file-excel-o"></span>
                    <span class="ui-button-text ui-clickable">ui-btn</span>
                  </button>
                <button (click)="redirecttoprev()" icon="fa-check" pbutton="" type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only">
                            <span class="ui-button-icon-left ui-clickable fa fa-fw fa-close"></span>
                            <span class="ui-button-text ui-clickable">ui-btn</span>
                          </button>
            </div>
        </div>
    </div>
    <div class="user-list ui-g-12 product-list">
        <p-dataTable  #dt [value]="b2bdata" selectionmode="single" [paginator]="true" [rows]="10" exportFilename="b2b" *ngIf="isExist == true">
            <div class="ui-datatable ui-widget ui-datatable-reflow">
                <div class="ui-datatable-tablewrapper">
                    <p-column field="gstin" header="GSTIN of Supplier" [style]="{'width': '14%'}" [sortable]="true"></p-column>
                    <p-column field="invoiceno" header="Invoice" [sortable]="true" [style]="{'width': '9%','text-align':'right'}">
                        <ng-template let-invoiceno="rowData" pTemplate="body" style="text-align: left">
                            <span>{{invoiceno.invoiceno }}</span>
                            <br>
                            <span class="dd_datespan">{{ invoiceno.invoicevalue | currency : currency_Symbol :true}}</span>
                            <br>
                            <span class="dd_datespan">{{ invoiceno.invoicedt | date: date_dformat}}</span>

                        </ng-template>
                    </p-column>

                    <p-column field="invoicedt" header="Invoice date" [sortable]="true" hidden="true"></p-column>
                    <p-column field="invoicevalue" header="Invoice Value" [sortable]="true" hidden="true"></p-column>
                    <p-column field="placeofsupply" header="Place Of Supply" [sortable]="true" hidden="true"></p-column>
                    <p-column field="revcharge" header="Reverse Charge" [sortable]="true" hidden="true"></p-column>
                    <p-column field="invtype" header="Invoice Type" [sortable]="true" hidden="true"></p-column>
                    <p-column field="rate" header="Rate" [sortable]="true" [style]="{'text-align':'right'}">
                        <ng-template let-rate="rowData" pTemplate="body" style="text-align: left">
                            <span>{{rate.rate}}%</span>
                        </ng-template>
                    </p-column>
                    <p-column field="taxablevalue" header="Taxable Value" [sortable]="true" [style]="{'text-align':'right','width': '11%'}">
                        <ng-template let-taxablevalue="rowData" pTemplate="body" style="text-align: left;">
                            <span>{{taxablevalue.taxablevalue | currency : currency_Symbol :true }}</span>
                            <!-- <br> -->
                            <!-- <span class="dd_datespan">{{taxvalue.igst | currency : currency_Symbol :true }}</span>
                                    <br>
                                    <span class="dd_datespan">{{taxvalue.cgst | currency : currency_Symbol :true}}</span>
                                    <br>
                                    <span class="dd_datespan">{{ taxvalue.sgst | currency : currency_Symbol :true}}</span> -->
                        </ng-template>
                    </p-column>
                    <p-column field="igst" header="Integ Tax Paid" [sortable]="true" [style]="{'text-align':'right'}">
                        <ng-template let-igst="rowData" pTemplate="body" style="text-align: left">
                            <span>{{igst.igst | currency : currency_Symbol :true }}</span>
                        </ng-template>
                    </p-column>
                    <p-column field="cgst" header="Central Tax Paid" [sortable]="true" [style]="{'text-align':'right'}">
                        <ng-template let-cgst="rowData" pTemplate="body" style="text-align: left">
                            <span>{{cgst.cgst | currency : currency_Symbol :true }}</span>
                        </ng-template>
                    </p-column>
                    <p-column field="sgst" header="State Tax Paid" [sortable]="true" [style]="{'text-align':'right'}">
                        <ng-template let-sgst="rowData" pTemplate="body" style="text-align: left">
                            <span>{{sgst.sgst | currency : currency_Symbol :true }}</span>
                        </ng-template>
                    </p-column>
                   

         
                    <p-column field="cessamount" header="Cess Paid" [sortable]="true" [style]="{'text-align':'right','width': '14%'}">
                        <ng-template let-cessamount="rowData" pTemplate="body" style="text-align: left">
                            <span>{{cessamount.cessamount | currency : currency_Symbol :true }}</span>
                            <!-- <br>
                            <span class="dd_datespan">{{cessamount.acessamount | currency : currency_Symbol :true}}</span> -->
                        </ng-template>
                    </p-column>
                   
                </div>
            </div>
        </p-dataTable>
        <p-dataTable #dt [value]="b2bdata" selectionmode="single" [paginator]="true" [rows]="10" exportFilename="b2b" *ngIf="isExist == false"
            #dt>
            <div class="ui-datatable ui-widget ui-datatable-reflow">
                <div class="ui-datatable-tablewrapper">
                    <p-column field="gstin" header="GSTIN" [style]="{'width': '14%'}" [sortable]="true"></p-column>
                    <p-column field="receivername" header="Receiver Name" [style]="{'width': '14%'}" [sortable]="true"></p-column>
                    <p-column field="invoiceno" header="Invoice" [sortable]="true" [style]="{'text-align':'right'}">
                        <ng-template let-invoiceno="rowData" pTemplate="body" style="text-align: left">
                            <span>{{invoiceno.invoiceno }}</span>
                            <br>
                            <span class="dd_datespan">{{ invoiceno.invoicevalue | currency : currency_Symbol : 'symbol' }}</span>
                            <br>
                            <span class="dd_datespan">{{ invoiceno.invoicedt | date: date_dformat}}</span>

                        </ng-template>
                    </p-column>

                    <p-column field="invoicedt" header="Invoice date" [sortable]="true" hidden="true"></p-column>
                    <p-column field="invoicevalue" header="Invoice Value" [sortable]="true" hidden="true"></p-column>
                    <p-column field="placeofsupply" header="Place Of Supply" [sortable]="true" hidden="true"></p-column>
                    <p-column field="revcharge" header="Reverse Charge" [sortable]="true" hidden="true"></p-column>
                    <p-column field="invtype" header="Invoice Type" [sortable]="true" hidden="true"></p-column>
                    <p-column field="rate" header="Rate" [sortable]="true" [style]="{'text-align':'right'}">
                        <ng-template let-rate="rowData" pTemplate="body" style="text-align: left">
                            <span>{{rate.rate}}%</span>
                        </ng-template>
                    </p-column>
                    <p-column field="applipcttaxrate" header="Applicable Tax Rate" [sortable]="true" [style]="{'text-align':'right'}" hidden="true">
                        <ng-template let-rate="rowData" pTemplate="body" style="text-align: left">
                            <span>{{rate.applipcttaxrate}}%</span>
                        </ng-template>
                    </p-column>
                    <p-column field="ecomgstin" header="E-Commerce GSTIN" [sortable]="true" [style]="{'text-align':'right'}">
                        <ng-template let-ecomgstin="rowData" pTemplate="body" style="text-align: left">
                            <span>{{ecomgstin.ecomgstin  }}</span>
                        </ng-template>
                    </p-column>
                    <p-column field="taxablevalue" header="Taxable Value" [sortable]="true" [style]="{'text-align':'right'}">
                        <ng-template let-taxablevalue="rowData" pTemplate="body" style="text-align: left">
                            <span>{{taxablevalue.taxablevalue  }}</span>
                        </ng-template>
                    </p-column>
                    <p-column field="cessamount" header="Cess Amount" [sortable]="true" [style]="{'text-align':'right'}">
                        <ng-template let-cessamount="rowData" pTemplate="body" style="text-align: left">
                            <span>{{cessamount.cessamount  }}</span>
                        </ng-template>
                    </p-column>
                 
                </div>
            </div>
        </p-dataTable>
    
    </div>
</div>